<!DOCTYPE html><html><head><title>Learn how to download message attachments from message store - Node JS- RingCentral Developer Tutorials</title><style>body, html {
  height:100%;
  width:100%;
  padding:0;
  margin:0;
  overflow:hidden;
  background-color:#ddd;
}
.wrapper {
  height:100%;
  width:100%;
}</style><link rel="shortcut icon" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" sizes="72x72" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" sizes="114x114" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/jquery-ui@1.12.1/themes/base/all.css"><link rel="stylesheet" href="viewsaurus.css"></head><body><div class="wrapper"><div class="dpw-header-container"><div class="dpw-header center-section"><div class="logo"><a href="https://developers.ringcentral.com" class="logo-link"></a></div><div class="nav-top-menus"></div><div class="dpw-login-section"><a href="https://developer.ringcentral.com/login.html#/">Sign in | Sign up</a></div></div></div><div id="viewsaurus" data-title="Learn how to download message attachments from message store - Node JS"><div class="saurus-panes"><div class="saurus-panes-header"><a href="https://ringcentral.github.io/tutorials/" class="saurus-back-to-tutorials">Tutorials</a><span>&gt;</span><span>Learn how to download message attachments from message store - Node JS</span></div><div class="saurus-prose"><div class="saurus-nav-buttons"><div class="saurus-nav-button nav-overview"><div class="saurus-nav-button-inner"><i class="fa fa-fw icon-menu"></i></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-previous"><div class="saurus-nav-button-inner"><a href=""> <i class="fa fa-fw fa-play fa-rotate-180"></i></a></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-next clickable"><div class="saurus-nav-button-inner"><a href="#1"> <i class="fa fa-fw fa-play"></i></a></div></div><div class="saurus-next-title"><span class="next-title-inner"></span></div></div><div class="saurus-progress-bar"></div><div class="saurus-start"><p>A tutorial to teach you how to download message attachments from user's message store. Click the &quot;Start&quot; button below to start the tutorial.</p><a href="#0">Start Tutorial</a></div><div class="saurus-content"><div data-title="Download Message Attachment Tutorial" class="chapter"><div data-title="Clone and Setup the project" data-file="../README.md" data-highlight="12-20" class="step"><h3 id="clone-and-setup-the-project">Clone and Setup the project</h3>
<p>Clone the project from GitHub and install RingCentral Node JS SDK and dependencies.</p>
</div><div data-title="Create a RingCentral app" data-file="../README.md" data-highlight="23-27" class="step"><h3 id="create-a-ringcentral-app">Create a RingCentral app</h3>
<p>If you don&#39;t know how to create a RingCentral app. Click <a href="https://developer.ringcentral.com/library/getting-started.html">https://developer.ringcentral.com/library/getting-started.html</a> for instructions.</p>
</div><div data-title="Set Environment Variables" data-file="../environment/dotenv-sandbox" class="step"><h3 id="set-environment-variables">Set Environment Variables</h3>
<p>Copy the Client id and Client secret and add them to the <code>environment/.env-sandbox</code> file.</p>
<pre><code>RC_CLIENT_ID=
RC_CLIENT_SECRET=
</code></pre><p>Add the account login credentials to the <code>environment/.env-sandbox</code> file.</p>
<pre><code>RC_USERNAME=
RC_PASSWORD=
RC_EXTENSION=
</code></pre><p>If you want to specify variables for your production environment, repeat this step for the <code>environment/.env-production</code> file.</p>
</div><div data-title="Login the platform" data-file="../index.js" data-highlight="1-25" class="step"><h3 id="login-using-ringcentral-node-js-sdk">Login using RingCentral Node JS SDK</h3>
<p>Using a RingCentral SDK is the most convenient way to authenticate and access RingCentral platform services.</p>
<p>After login successfully, we call the function <strong>read_message_store_message_content()</strong> to read and download the content.</p>
</div><div data-title="Read the user message store" data-file="../index.js" data-highlight="27-30" class="step"><h3 id="read-the-user-s-message-store">Read the user&#39;s message store</h3>
<p>We call the &quot;message-store&quot; endpoint and specify the time period using the <strong>dateFrom</strong> and <strong>dateTo</strong> query parameters.</p>
<p>You can specify other query parameters such as <strong>messageType</strong>, <strong>direction</strong> etc. if you want.</p>
</div><div data-title="Get ready to parse the response" data-file="../index.js" data-highlight="32-41" class="step"><h3 id="get-ready-to-parse-the-response">Get ready to parse the response</h3>
<p>We parse the JSON response and get the amount of items from the <strong>records</strong> array.</p>
<p>We also create a &quot;content&quot; folder to store message attachments.</p>
<p>To get ready for downloading a big amount of messages attachment, we limit API call to ~40 calls per minute to avoid exceeding API rate limit.
For that purpose, we use the <em>index</em> variable to iterate through the <strong>records</strong> array within the <strong>setInterval</strong> timer function.</p>
</div><div data-title="Detect the message type" data-file="../index.js" data-highlight="43-64" class="step"><h3 id="detect-the-message-type">Detect the message type</h3>
<p>Each record may contain several attachments. We iterate through the attachments array, detect the message type to create a file name and file name extension accordingly.</p>
<p>We implement the <strong>getFileExtensionFromMimeType()</strong> function to specify the filename extension based on the attachment <strong>contentType</strong>.</p>
</div><div data-title="Download the message attachment" data-file="../index.js" data-highlight="65-77" class="step"><h3 id="download-the-message-attachment">Download the message attachment</h3>
<p>We download the attachment by calling the <strong>platform.get()</strong> function to get the content from the <strong>attachment.uri</strong>.</p>
<p>Finally, we read the data buffer then save the data to a file under the <strong>content</strong> folder.</p>
</div><div data-title="Complete the download process" data-file="../index.js" data-highlight="80-84" class="step"><h3 id="complete-the-download-process">Complete the download process</h3>
<p>We increase the <strong>index</strong> each time after we read a record. If we read all the records from the records array, we clear the timer and finish the download process, otherwise, we wait for about 2 seconds then download the next attachment.</p>
</div></div>
<div class="saurus-files" style="display:none;"><textarea class="saurus-file" data-file="../README.md" data-mode="markdown">IyMjIE92ZXJ2aWV3ClRoaXMgdHV0b3JpYWwgcHJvamVjdCBzaG93cyB5b3UgaG93IHRvIGRvd25sb2FkIHVzZXIncyBtZXNzYWdlIGF0dGFjaG1lbnRzIGFuZCBzYXZlIHRoZW0gdG8gYSBsb2NhbCBtYWNoaW5lLgoKIyMjIFJpbmdDZW50cmFsIENvbm5lY3QgUGxhdGZvcm0KUmluZ0NlbnRyYWwgRGV2ZWxvcGVyIFBsYXRmb3JtIGlzIGEgcmljaCBSRVNUZnVsIEFQSSBwbGF0Zm9ybSB3aXRoIG1vcmUgdGhhbiA3MCBBUElzIGZvciBidXNpbmVzcyBjb21tdW5pY2F0aW9uIGluY2x1ZGVzIGFkdmFuY2VkIHZvaWNlIGNhbGxzLCBjaGF0IG1lc3NhZ2luZywgU01TL01NUyBhbmQgRmF4LgoKIyMjIFJpbmdDZW50cmFsIERldmVsb3BlciBQb3J0YWwKVG8gc2V0dXAgYSBmcmVlIGRldmVsb3BlciBhY2NvdW50LCBjbGljayBbaHR0cHM6Ly9kZXZlbG9wZXIvcmluZ2NlbnRyYWwuY29tXShoZXJlKQoKIyMjIENsb25lIC0gU2V0dXAgLSBSdW4gdGhlIHByb2plY3QKYGBgCiQgZ2l0IGNsb25lIGh0dHBzOi8vZ2l0aHViLmNvbS9yaW5nY2VudHJhbC10dXRvcmlhbHMvbWVzc2FnZS1zdG9yZS1kb3dubG9hZC1jb250ZW50CgokIGNkIG1lc3NhZ2Utc3RvcmUtZG93bmxvYWQtY29udGVudAoKJCBucG0gaW50YWxsIC0tc2F2ZQoKJCBjcCBlbnZpcm9ubWVudC9kb3RlbnYtc2FuZGJveCBlbnZpcm9ubWVudC8uZW52LXNhbmRib3gKCiQgY3AgZW52aXJvbm1lbnQvZG90ZW52LXByb2R1Y3Rpb24gZW52aXJvbm1lbnQvLmVudi1wcm9kdWN0aW9uCmBgYAoKIyMjIENyZWF0ZSBhbiBhcHAKKiBDcmVhdGUgYW4gYXBwbGljYXRpb24gYXQgaHR0cHM6Ly9kZXZlbG9wZXIucmluZ2NlbnRyYWwuY29tLgoqIFNlbGVjdCBgU2VydmVyLW9ubHkgKE5vIFVJKWAgZm9yIHRoZSBQbGF0Zm9ybSB0eXBlLgoqIEFkZCB0aGUgYFJlYWRNZXNzYWdlc2AgcGVybWlzc2lvbiBmb3IgdGhlIGFwcC4KKiBDb3B5IHRoZSBDbGllbnQgaWQgYW5kIENsaWVudCBzZWNyZXQgYW5kIGFkZCB0aGVtIHRvIHRoZSBgLmVudi1bZW52aXJvbm1lbnRdYCBmaWxlLgpgYGAKUkNfQ0xJRU5UX0lEPQpSQ19DTElFTlRfU0VDUkVUPQpgYGAKKiBBZGQgdGhlIGFjY291bnQgbG9naW4gY3JlZGVudGlhbHMgdG8gdGhlIGAuZW52LVtlbnZpcm9ubWVudF1gIGZpbGUuCmBgYApSQ19VU0VSTkFNRT0KUkNfUEFTU1dPUkQ9ClJDX0VYVEVOU0lPTj0KYGBgCgpTZXQgYEVOVklST05NRU5UPXNhbmRib3hgIGluIHRoZSBgLmVudmAgZmlsZSB0byBydW4gaW4gdGhlIHNhbmRib3ggZW52aXJvbm1lbnQuCgpTZXQgYEVOVklST05NRU5UPXByb2R1Y3Rpb25gIGluIHRoZSBgLmVudmAgZmlsZSB0byBydW4gaW4gdGhlIHByb2R1Y3Rpb24gZW52aXJvbm1lbnQuCgojIyMgTWFrZSBzdXJlIHlvdSBoYXZlIHNvbWUgY29udGVudAoqIExvZ2luIHlvdXIgUmluZ0NlbnRyYWwgYWNjb3VudCBmcm9tIFJpbmdDZW50cmFsIHNvZnQtcGhvbmUuCiogU2VuZCBhIGZldyBNTVMgbWVzc2FnZSB0byB5b3VyIFJpbmdDZW50cmFsIG51bWJlci4KKiBNYWtlIGEgZmV3IHBob25lIGNhbGxzIHRvIHlvdXIgUmluZ0NlbnRyYWwgbnVtYmVyIGFuZCBsZWF2ZSB2b2ljZSBtZXNzYWdlcy4KKiBTZW5kIGEgZmV3IGZheCBtZXNzYWdlcyB0byB5b3VyIFJpbmdDZW50cmFsIG51bWJlci4KCiMjIyBSdW4gdGhlIGRlbW8KYGBgCiQgbm9kZSBpbmRleC5qcwpgYGAKCiMjIyBSaW5nQ2VudHJhbCBEZXZlbG9wZXIgUG9ydGFsClRvIHNldHVwIGEgZnJlZSBkZXZlbG9wZXIgYWNjb3VudCwgY2xpY2sgW2hlcmVdKGh0dHBzOi8vZGV2ZWxvcGVyL3JpbmdjZW50cmFsLmNvbSkKCiMjIFJpbmdDZW50cmFsIE5vZGUgSlMgU0RLClRoZSBTREsgaXMgYXZhaWxhYmxlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9yaW5nY2VudHJhbC9yaW5nY2VudHJhbC1qcwo=</textarea>
<textarea class="saurus-file" data-file="../environment/dotenv-sandbox" data-mode="text">UkNfU0VSVkVSX1VSTD1odHRwczovL3BsYXRmb3JtLmRldnRlc3QucmluZ2NlbnRyYWwuY29tClJDX0NMSUVOVF9JRD0KUkNfQ0xJRU5UX1NFQ1JFVD0KUkNfVVNFUk5BTUU9ClJDX1BBU1NXT1JEPQpSQ19FWFRFTlNJT049Cg==</textarea>
<textarea class="saurus-file" data-file="../index.js" data-mode="javascript">dmFyIFNESyA9IHJlcXVpcmUoJ3JpbmdjZW50cmFsJykKdmFyIGFzeW5jID0gcmVxdWlyZSgnYXN5bmMnKQp2YXIgZnMgPSByZXF1aXJlKCdmcycpCgpyZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKQppZiAocHJvY2Vzcy5lbnYuRU5WSVJPTk1FTlQgPT0gInNhbmRib3giKSB7CiAgICByZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoe3BhdGg6ICIuL2Vudmlyb25tZW50Ly5lbnYtc2FuZGJveCJ9KQp9IGVsc2UgewogICAgcmVxdWlyZSgnZG90ZW52JykuY29uZmlnKHtwYXRoOiAiLi9lbnZpcm9ubWVudC8uZW52LXByb2R1Y3Rpb24ifSkKfQp2YXIgcmNzZGsgPSBuZXcgU0RLKHsKICAgICAgc2VydmVyOiBwcm9jZXNzLmVudi5SQ19TRVJWRVJfVVJMLAogICAgICBhcHBLZXk6IHByb2Nlc3MuZW52LlJDX0NMSUVOVF9JRCwKICAgICAgYXBwU2VjcmV0OiBwcm9jZXNzLmVudi5SQ19DTElFTlRfU0VDUkVUCiAgICB9KTsKdmFyIHBsYXRmb3JtID0gcmNzZGsucGxhdGZvcm0oKQoKcGxhdGZvcm0ubG9naW4oewogICAgICB1c2VybmFtZTogcHJvY2Vzcy5lbnYuUkNfVVNFUk5BTUUsCiAgICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5SQ19QQVNTV09SRAogICAgICB9KQogICAgICAudGhlbihmdW5jdGlvbihyZXNwKSB7CiAgICAgICAgICByZWFkX21lc3NhZ2Vfc3RvcmVfbWVzc2FnZV9jb250ZW50KCkKICAgICAgfSk7CgpmdW5jdGlvbiByZWFkX21lc3NhZ2Vfc3RvcmVfbWVzc2FnZV9jb250ZW50KCl7CiAgICBwbGF0Zm9ybS5nZXQoJy9hY2NvdW50L34vZXh0ZW5zaW9uL34vbWVzc2FnZS1zdG9yZScsIHsKICAgICAgICAgICAgIGRhdGVGcm9tOiAnMjAxOS0wMS0wMVQwMDowMDowMC4wMDBaJywKICAgICAgICAgICAgIGRhdGVUbzogJzIwMTktMDMtMzFUMjM6NTk6NTkuOTk5WicKICAgICAgICB9KQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICB2YXIganNvbk9iaiA9IHJlc3AuanNvbigpCiAgICAgICAgICB2YXIgY291bnQgPSBqc29uT2JqLnJlY29yZHMubGVuZ3RoCiAgICAgICAgICB2YXIgaW5kZXggPSAwCiAgICAgICAgICB2YXIgY29udGVudFBhdGggPSAiLi9jb250ZW50LyIKICAgICAgICAgIGlmKCFmcy5leGlzdHNTeW5jKGNvbnRlbnRQYXRoKSl7CiAgICAgICAgICAgIGZzLm1rZGlyU3luYyhjb250ZW50UGF0aCkKICAgICAgICAgIH0KICAgICAgICAgIC8vIExpbWl0IEFQSSBjYWxsIHRvIH40MCBjYWxscyBwZXIgbWludXRlIHRvIGF2b2lkIGV4Y2VlZGluZyBBUEkgcmF0ZSBsaW1pdC4KICAgICAgICAgIHZhciBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgcmVjb3JkID0ganNvbk9iai5yZWNvcmRzW2luZGV4XQogICAgICAgICAgICBpZiAocmVjb3JkLmhhc093blByb3BlcnR5KCdhdHRhY2htZW50cycpKXsKICAgICAgICAgICAgICBhc3luYy5lYWNoKHJlY29yZC5hdHRhY2htZW50cywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGF0dGFjaG1lbnQsIGNhbGxiYWNrKXsKICAgICAgICAgICAgICAgICAgdmFyIGZpbGVOYW1lID0gIiIKICAgICAgICAgICAgICAgICAgaWYgKHJlY29yZC50eXBlID09ICJWb2ljZU1haWwiKXsKICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlRXh0ID0gZ2V0RmlsZUV4dGVuc2lvbkZyb21NaW1lVHlwZShhdHRhY2htZW50LmNvbnRlbnRUeXBlKQogICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dGFjaG1lbnQudHlwZSA9PSAiQXVkaW9SZWNvcmRpbmciKXsKICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWUgPSAidm9pY2VtYWlsX3JlY29yZGluZ18iICsgcmVjb3JkLmF0dGFjaG1lbnRzWzBdLmlkICsgZmlsZUV4dAogICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYgKGF0dGFjaG1lbnQudHlwZSA9PSAiQXVkaW9UcmFuc2NyaXB0aW9uIiAmJgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZC52bVRyYW5zY3JpcHRpb25TdGF0dXMgPT0gIkNvbXBsZXRlZCIpewogICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lID0gInZvaWNlbWFpbF90cmFuc2NyaXB0XyIrcmVjb3JkLmF0dGFjaG1lbnRzWzBdLmlkKyIudHh0IgogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9ZWxzZSBpZiAocmVjb3JkLnR5cGUgPT0gIkZheCIpewogICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVFeHQgPSBnZXRGaWxlRXh0ZWVuc2lvbkZyb21NaW1lVHlwZShhdHRhY2htZW50LmNvbnRlbnRUeXBlKQogICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWUgPSAiZmF4X2F0dGFjaG1lbnRfIiArIGF0dGFjaG1lbnQuaWQgKyBmaWxlRXh0CiAgICAgICAgICAgICAgICAgIH1lbHNlIGlmIChyZWNvcmQudHlwZSA9PSAiU01TIil7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0YWNobWVudC50eXBlID09ICJNbXNBdHRhY2htZW50Iil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVFeHQgPSBnZXRGaWxlRXh0ZWVuc2lvbkZyb21NaW1lVHlwZShhdHRhY2htZW50LmNvbnRlbnRUeXBlKQogICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lID0gIm1tc19hdHRhY2htZW50XyIgKyByZWNvcmQuYXR0YWNobWVudHNbMF0uaWQgKyBmaWxlRXh0CiAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZSA9ICJzbXNfdGV4dF8iICsgcmVjb3JkLmF0dGFjaG1lbnRzWzBdLmlkICsgIi50eHQiCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgcGxhdGZvcm0uZ2V0KGF0dGFjaG1lbnQudXJpKQogICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5yZXNwb25zZSgpLmJ1ZmZlcigpOwogICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGJ1ZmZlcikgewogICAgICAgICAgICAgICAgICAgICAgICAgIGZzLndyaXRlRmlsZShjb250ZW50UGF0aCArIGZpbGVOYW1lLCBidWZmZXIsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCkKICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKQogICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCkKICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgICAgIGluZGV4KysKICAgICAgICAgICAgaWYgKGluZGV4ID49IGNvdW50KXsKICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCAyMDUwKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCAoZnVuY3Rpb24oZSl7CiAgICAgICAgICBjb25zb2xlLmxvZyhlLm1lc3NhZ2UpCiAgICAgICAgfSkKfQoKZnVuY3Rpb24gZ2V0RmlsZUV4dGVuc2lvbkZyb21NaW1lVHlwZShtaW1lVHlwZSl7CiAgc3dpdGNoIChtaW1lVHlwZSl7CiAgICBjYXNlICJ0ZXh0L2h0bWwiOiByZXR1cm4gImh0bWwiCiAgICBjYXNlICJ0ZXh0L2NzcyI6IHJldHVybiAiLmNzcyIKICAgIGNhc2UgInRleHQveG1sIjogcmV0dXJuICIueG1sIgogICAgY2FzZSAidGV4dC9wbGFpbiI6IHJldHVybiAiLnR4dCIKICAgIGNhc2UgInRleHQveC12Y2FyZCI6IHJldHVybiAiLnZjZiIKICAgIGNhc2UgImFwcGxpY2F0aW9uL21zd29yZCI6IHJldHVybiAiLmRvYyIKICAgIGNhc2UgImFwcGxpY2F0aW9uL3BkZiI6IHJldHVybiAiLnBkZiIKICAgIGNhc2UgImFwcGxpY2F0aW9uL3J0ZiI6IHJldHVybiAiLnJ0ZiIKICAgIGNhc2UgImFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbCI6IHJldHVybiAiLnhscyIKICAgIGNhc2UgImFwcGxpY2F0aW9uL3ZuZC5tcy1wb3dlcnBvaW50IjogcmV0dXJuICIucHB0IgogICAgY2FzZSAiYXBwbGljYXRpb24vemlwIjogcmV0dXJuICIuemlwIgogICAgY2FzZSAiaW1hZ2UvdGlmZiI6IHJldHVybiAiLnRpZmYiCiAgICBjYXNlICJpbWFnZS9naWYiOiByZXR1cm4gIi5naWYiCiAgICBjYXNlICJpbWFnZS9qcGVnIjogcmV0dXJuICIuanBnIgogICAgY2FzZSAiaW1hZ2UvcG5nIjogcmV0dXJuICIucG5nIgogICAgY2FzZSAiaW1hZ2UveC1tcy1ibXAiOiByZXR1cm4gIi5ibXAiCiAgICBjYXNlICJpbWFnZS9zdmcreG1sIjogcmV0dXJuICIuc3ZnIgogICAgY2FzZSAiYXVkaW8vd2F2IjoKICAgIGNhc2UgImF1ZGlvL3gtd2F2IjoKICAgICAgcmV0dXJuICIud2F2IgogICAgY2FzZSAiYXVkaW8vbXBlZyI6IHJldHVybiAiLm1wMyIKICAgIGNhc2UgImF1ZGlvL29nZyI6IHJldHVybiAiLm9nZyIKICAgIGNhc2UgInZpZGVvLzNncHAiOiByZXR1cm4gIi4zZ3AiCiAgICBjYXNlICJ2aWRlby9tcGVnIjogcmV0dXJuICIubXBlZyIKICAgIGNhc2UgInZpZGVvL3F1aWNrdGltZSI6IHJldHVybiAiLm1vdiIKICAgIGNhc2UgInZpZGVvL3gtZmx2IjogcmV0dXJuICIuZmx2IgogICAgY2FzZSAidmlkZW8veC1tcy13bXYiOiByZXR1cm4gIi53bXYiCiAgICBjYXNlICJ2aWRlby9tcDQiOiByZXR1cm4gIi5tcDQiCiAgICBkZWZhdWx0OiByZXR1cm4gIi51bmtub3duIgogIH0KfQo=</textarea>
</div>
</div><div class="saurus-overview"><ul></ul></div></div><div class="saurus-code"><div class="file-path"><span class="crumb-container"></span><i class="fa fa-fw fa-folder"></i></div><div class="saurus-editor"></div></div><div class="saurus-explorer"><div class="saurus-file-list"></div><div class="saurus-file-actions"><a href="https://github.com/ringcentral-tutorials/message-store-download-content" target="_blank" class="explorer-get-code"><i class="fa fa-lg fa-github-square"></i>View Code on GitHub</a><a href="https://github.com/ringcentral-tutorials/message-store-download-content/archive/master.zip" target="_blank" class="explorer-get-code"><i class="fa fa-lg icon-download"></i>Download Source Code</a></div></div></div></div><footer><div class="footer-content"><div class="footer-content-row layout-2-cols"><div class="footer-content-row-left"><div class="footer-logo"><a href="http://www.ringcentral.com"><span>Back to the main site</span></a></div></div><div class="footer-content-row-right"><ul class="footer-text-links"><li><a href="http://www.ringcentral.com/legal.html" target="_blank"><span>Legal</span></a></li><li><a href="http://www.ringcentral.com/security-statement.html" target="_blank"><span>Security Policy</span></a></li><li><a href="http://www.ringcentral.com/legal/privacy-policy.html" target="_blank"><span>Privacy Policy</span></a></li><li><a ng-href="https://devcommunity.ringcentral.com" target="_blank" href="https://devcommunity.ringcentral.com"><span>Community</span></a></li><li><a href="https://medium.com/ringcentral-developers" target="_blank"><span>Blog</span></a></li></ul></div></div><div class="footer-content-row footer-content-row-last layout-2-cols"><div class="footer-content-row-left"><span class="footer-copyright">© 1999-<span ng-bind="::main.nowObj|date:'yyyy'" class="footer-copyright-to ng-binding">2017</span> RingCentral, Inc. All rights reserved.</span></div><div class="footer-content-row-right"><div class="footer-image-links"><div class="footer-image-link footer-image-link-facebook"><a target="_blank" href="http://www.facebook.com/ringcentral"><i class="fa icon-facebook"></i></a></div><div class="footer-image-link footer-image-link-twitter"><a target="_blank" href="http://twitter.com/ringcentraldevs"><i class="fa icon-twitter"></i></a></div><div class="footer-image-link footer-image-link-google-plus"><a target="_blank" href="https://www.google.com/+ringcentral"><i class="fa icon-google_plus"></i></a></div><div class="footer-image-link footer-image-link-linkedin"><a target="_blank" href="http://www.linkedin.com/company/ringcentral"><i class="fa icon-linkedin"></i></a></div><div class="footer-image-link footer-image-link-youtube"><a target="_blank" href="http://www.youtube.com/ringcentral"><i class="fa icon-youtube"></i></a></div></div></div></div></div></footer></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script><script src="ace/ace.js"></script><script src="ace/theme-monokai.js"></script><script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script><script>window.tutorialName="Learn how to download message attachments from message store - Node JS";</script><script src="viewsaurus.js"></script></body></html>